<!-- نوار بالا فقط برای برند و لاگین/رجیستر روی دسکتاپ -->
<mat-toolbar color="transparent" class="synq-toolbar">
    <section class="synq-toolbar-left">
        <a class="synq-brand" routerLink="home">
            <span class="synq-brand-dot"></span>
            <span class="synq-brand-text">synq</span>
        </a>
    </section>
</mat-toolbar>

<!-- سایدبار ثابت دسکتاپ / تبلت -->
@if (accountService.loggedInUserSig(); as user) {
<aside class="synq-sidebar">
    <!-- بخش بالای سایدبار: پروفایل کوتاه -->
    <div class="synq-sidebar-header">
        <button class="synq-avatar-shell" routerLink="user/user-edit">
            @if (user.profilePhotoUrl) {
            <img [src]="apiUrl + user.profilePhotoUrl" [alt]="user.userName" />
            }
            @else {
            <span class="synq-avatar-initial">
                {{ user.userName[0] | titlecase }}
            </span>
            }
        </button>
        <div class="synq-user-info">
            <p class="synq-user-name">{{ user.userName }}</p>
            <p class="synq-user-email">{{ user.email }}</p>
        </div>
    </div>

    <!-- لینک‌های اصلی -->
    <nav class="synq-sidebar-nav">
        @if (user.roles.includes('admin')) {
        <a routerLink="/admin" routerLinkActive="active">
            <mat-icon>User</mat-icon>
            <span>AdminUser</span>
        </a>

         <a routerLink="/postmaneger" routerLinkActive="active">
            <mat-icon>Post</mat-icon>
            <span>Postmaneger</span>
        </a>

        }

        <a routerLink="" routerLinkActive="active">
            <mat-icon>space_dashboard</mat-icon>
            <span>Dashboard</span>
        </a>

        <a routerLink="/explor" routerLinkActive="active">
            <mat-icon>explore</mat-icon>
            <span>Explore</span>
        </a>

        <a routerLink="/post" routerLinkActive="active">
            <mat-icon>CreatePost</mat-icon>
            <span>Create</span>
        </a>

        <a routerLink="/chat" routerLinkActive="active">
            <mat-icon>chat_bubble</mat-icon>
            <span>Chat</span>
        </a>

        <a routerLink="user/user-edit" routerLinkActive="active">
            <mat-icon>person</mat-icon>
            <span>Profile</span>
        </a>

        <a routerLink="/settings" routerLinkActive="active">
            <mat-icon>settings</mat-icon>
            <span>Settings</span>
        </a>

    </nav>
</aside>

}
@else {
<!-- مهمان روی دسکتاپ: سایدبار کوچک فقط برای auth (اختیاری، می‌تونی حذفش کنی) -->
<aside class="synq-sidebar synq-sidebar-guest">
    <div class="synq-sidebar-header">
        <div class="synq-avatar-shell guest">
            <span class="synq-avatar-initial">S</span>
        </div>
        <div class="synq-user-info">
            <p class="synq-user-name">Welcome</p>
            <p class="synq-user-email">Sign in to Synq</p>
        </div>
    </div>

    <nav class="synq-sidebar-nav guest-links">
        <a routerLink="/account/login">
            <mat-icon>login</mat-icon>
            <span>Log in</span>
        </a>
        <a routerLink="/account/register">
            <mat-icon>person_add</mat-icon>
            <span>Sign up</span>
        </a>
    </nav>
</aside>
}

<nav class="synq-bottom-nav">
    @if (accountService.loggedInUserSig(); as user) {
    <a routerLink="/" routerLinkActive="active">
        <mat-icon>space_dashboard</mat-icon>
        <span>Dashboard</span>
    </a>
    @if (user.roles.includes('admin')) {
        <a routerLink="/admin" routerLinkActive="active">
            <mat-icon>User</mat-icon>
            <span>AdminUser</span>
        </a>
    }

    <a routerLink="/explore" routerLinkActive="active">
        <mat-icon>explore</mat-icon>
        <span>Explore</span>
    </a>

    <a routerLink="/post" routerLinkActive="active">
        <mat-icon>CreatePost</mat-icon>
        <span>Create</span>
    </a>

    <a routerLink="/chat" routerLinkActive="active">
        <mat-icon>chat_bubble</mat-icon>
        <span>Chat</span>
    </a>

    <a routerLink="user/user-edit" routerLinkActive="active">
        <mat-icon>person</mat-icon>
        <span>Profile</span>
    </a>

    <a routerLink="/settings" routerLinkActive="active">
        <mat-icon>settings</mat-icon>
        <span>Settings</span>
    </a>
    }
    @else {
    <a routerLink="/" [routerLinkActiveOptions]="{ exact: true }" routerLinkActive="active">
        <mat-icon>home</mat-icon>
        <span>Landing</span>
    </a>

    <a routerLink="/account/login">
        <mat-icon>login</mat-icon>
        <span>Log in</span>
    </a>

    <a routerLink="/account/register">
        <mat-icon>person_add</mat-icon>
        <span>Sign up</span>
    </a>
    }
</nav>