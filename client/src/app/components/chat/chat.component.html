<div class="chat-root">
  <div class="chat-header">
    <div class="header-main">
      <div class="header-info">
        <div class="title">
          <h3>Synq Chat</h3>
        </div>
      </div>
    </div>
  </div>

  <div class="chat-body">
    @if (messages().length > 0) {
    @for (message of messages(); track $index) {
    <div class="message-row" [class.mine]="isMine(message)">
      <div class="bubble">
        <div class="meta">
          <span class="user">{{ message.user }}</span>

          @if (message.TimeStamp) {
          <span class="time">
            {{ message.TimeStamp | date : 'HH:mm' }}
          </span>
          }
        </div>
        <div class="content">
          {{ message.message }}
        </div>
      </div>
    </div>
    }
    } @else {
    <div class="empty-state">
      <div class="empty-icon">ğŸ’­</div>
      <div class="empty-title">No messages yet</div>
      <div class="empty-subtitle">
        Start the conversation by sending the first message.
      </div>
    </div>
    }
  </div>

  <div class="chat-input">
    <button type="button" class="emoji-btn" (click)="showEmojis = !showEmojis">
      ğŸ˜Š


      <div class="emoji-box" *ngIf="showEmojis">
        <emoji-mart title="Pick emoji" emoji="speech_balloon" (emojiSelect)="addEmoji($event)">
        </emoji-mart>
      </div>
    </button>
    <input [(ngModel)]="messageText" type="text" placeholder="Type a message..." (keyup.enter)="sendMessage()" />

    <button (click)="sendMessage()">
      Send
    </button>
  </div>
</div>